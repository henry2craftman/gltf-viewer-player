<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLTF Viewer & Player</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        #canvas {
            display: block;
            width: 100vw;
            height: 100vh;
        }

        #ui {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 20px;
            border-radius: 8px;
            font-size: 14px;
        }

        .mode-button {
            display: block;
            width: 200px;
            padding: 10px;
            margin: 10px 0;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .mode-button:hover {
            background: #45a049;
        }

        .mode-button.active {
            background: #2196F3;
        }

        .controls {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
        }

        .controls p {
            margin: 5px 0;
            font-size: 12px;
        }

        #file-input {
            margin-top: 10px;
        }

        #settings-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 20px;
            border-radius: 8px;
            font-size: 14px;
            width: 300px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .settings-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .settings-section:last-child {
            border-bottom: none;
        }

        .settings-section h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #4CAF50;
        }

        .setting-item {
            margin: 10px 0;
        }

        .setting-item label {
            display: block;
            margin-bottom: 5px;
            font-size: 12px;
            color: #ccc;
        }

        .setting-item input[type="range"] {
            width: 100%;
        }

        .setting-item input[type="checkbox"] {
            margin-right: 8px;
        }

        .setting-value {
            display: inline-block;
            margin-left: 10px;
            color: #4CAF50;
            font-weight: bold;
        }

        .toggle-settings {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            z-index: 1000;
        }

        .toggle-settings:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        #settings-panel.hidden {
            display: none;
        }

        #language-switcher {
            position: absolute;
            top: 20px;
            right: 340px;
            padding: 10px 15px;
            background: rgba(76, 175, 80, 0.9);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            z-index: 1000;
        }

        #language-switcher:hover {
            background: rgba(69, 160, 73, 1);
        }

        .language-indicator {
            display: inline-block;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <div id="ui">
        <h2>GLTF Viewer</h2>
        <input type="file" id="file-input" accept=".gltf,.glb" />

        <div style="margin-top: 20px;">
            <button class="mode-button active" data-mode="first-person" data-i18n="first-person">1st Person</button>
            <button class="mode-button" data-mode="third-person" data-i18n="third-person">3rd Person</button>
            <button class="mode-button" data-mode="free-camera" data-i18n="free-camera">Free Camera</button>
        </div>

        <div class="controls">
            <p style="color: #FFD700; font-weight: bold;">ğŸ’¡ í™”ë©´ì„ í´ë¦­í•˜ë©´ ë§ˆìš°ìŠ¤ ì¡°ì‘ í™œì„±í™”!</p>

            <p style="margin-top: 10px;"><strong>ê³µí†µ ì¡°ì‘:</strong></p>
            <p>W/A/S/D - ì´ë™</p>
            <p>ë§ˆìš°ìŠ¤ - ì‹œì  íšŒì „</p>
            <p>Space - ì í”„</p>

            <p style="margin-top: 10px;"><strong>ììœ  ì¹´ë©”ë¼:</strong></p>
            <p>Q/E - ìƒìŠ¹/í•˜ê°•</p>
            <p>Shift - ë¹ ë¥¸ ì´ë™</p>
        </div>
    </div>

    <button id="language-switcher">
        <span class="language-indicator">ğŸ‡ºğŸ‡¸ EN</span>
    </button>

    <button class="toggle-settings" id="toggle-settings" data-i18n="toggle-settings">âš™ï¸ Settings</button>

    <div id="settings-panel" class="hidden">
        <h2 data-i18n="toggle-settings">Settings</h2>

        <div class="settings-section">
            <h3 data-i18n="player-settings">Player Settings</h3>

            <div class="setting-item">
                <label>í”Œë ˆì´ì–´ ë©”ì‹œ í¬ê¸° (3ì¸ì¹­ ëª¨ë“œ)</label>
                <input type="range" id="player-scale" min="0.005" max="0.05" step="0.001" value="0.018">
                <span class="setting-value" id="player-scale-value">0.018x</span>
            </div>

            <div class="setting-item">
                <label>ì¹´ë©”ë¼ ë†’ì´ (ëˆˆë†’ì´)</label>
                <input type="range" id="player-height" min="0.01" max="0.10" step="0.001" value="0.035">
                <span class="setting-value" id="player-height-value">0.035m</span>
            </div>

            <div class="setting-item">
                <label>ì´ë™ ì†ë„</label>
                <input type="range" id="player-speed" min="0.05" max="1.0" step="0.01" value="0.30">
                <span class="setting-value" id="player-speed-value">0.30</span>
            </div>

            <div class="setting-item">
                <label>ë°”ë‹¥ ë†’ì´ (Y ìœ„ì¹˜)</label>
                <input type="range" id="ground-level" min="0.0" max="1.0" step="0.01" value="0.30">
                <span class="setting-value" id="ground-level-value">0.30m</span>
            </div>

            <div class="setting-item">
                <label>3ì¸ì¹­ ì¹´ë©”ë¼ ê±°ë¦¬</label>
                <input type="range" id="third-person-distance" min="0.02" max="0.5" step="0.01" value="0.1">
                <span class="setting-value" id="third-person-distance-value">0.10m</span>
            </div>

            <div class="setting-item">
                <label>3ì¸ì¹­ ì¹´ë©”ë¼ ë†’ì´</label>
                <input type="range" id="third-person-height" min="0.0" max="0.15" step="0.001" value="0.025">
                <span class="setting-value" id="third-person-height-value">0.025m</span>
            </div>
        </div>

        <div class="settings-section">
            <h3 data-i18n="post-processing">Post-Processing</h3>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-postprocessing">
                    í¬ìŠ¤íŠ¸ í”„ë¡œì„¸ì‹± í™œì„±í™”
                </label>
            </div>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-bloom">
                    ë¸”ë£¸ (ë°œê´‘ íš¨ê³¼)
                </label>
            </div>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-ssao">
                    SSAO (ì£¼ë³€ ì°¨í)
                </label>
            </div>
        </div>

        <div class="settings-section">
            <h3 data-i18n="time-of-day">Time of Day</h3>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-time-cycle">
                    ì‹œê°„ íë¦„ í™œì„±í™”
                </label>
            </div>

            <div class="setting-item">
                <label>ì‹œê°„ (0=ìì •, 12=ì •ì˜¤)</label>
                <input type="range" id="time-of-day" min="0" max="24" step="0.1" value="12">
                <span class="setting-value" id="time-value">12:00</span>
            </div>

            <div class="setting-item">
                <label>ì‹œê°„ íë¦„ ì†ë„</label>
                <input type="range" id="time-speed" min="0" max="100" step="1" value="10">
                <span class="setting-value" id="time-speed-value">10x</span>
            </div>

            <div class="setting-item">
                <label>íƒœì–‘ ê°•ë„</label>
                <input type="range" id="sun-intensity" min="0" max="2" step="0.1" value="0.8">
                <span class="setting-value" id="sun-intensity-value">0.8</span>
            </div>

            <div class="setting-item" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.3);">
                <h4 style="color: #FFD700; margin-bottom: 10px;">â˜€ï¸ íƒœì–‘ ê¶¤ë„ ì¶• íšŒì „</h4>
                <p style="font-size: 11px; color: #888; margin-bottom: 10px;">íƒœì–‘ì´ ëœ¨ê³  ì§€ëŠ” ë°©í–¥ì„ ì¡°ì ˆí•©ë‹ˆë‹¤</p>
            </div>

            <div class="setting-item">
                <label>Pitch (Xì¶• íšŒì „) <span style="font-size: 10px; color: #888;">ë™-ì„œ ì¶•</span></label>
                <input type="range" id="orbit-pitch" min="-180" max="180" step="1" value="0">
                <span class="setting-value" id="orbit-pitch-value">0Â°</span>
            </div>

            <div class="setting-item">
                <label>Yaw (Yì¶• íšŒì „) <span style="font-size: 10px; color: #888;">ìˆ˜ì§ ì¶•</span></label>
                <input type="range" id="orbit-yaw" min="-180" max="180" step="1" value="0">
                <span class="setting-value" id="orbit-yaw-value">0Â°</span>
            </div>

            <div class="setting-item">
                <label>Roll (Zì¶• íšŒì „) <span style="font-size: 10px; color: #888;">ë‚¨-ë¶ ì¶•</span></label>
                <input type="range" id="orbit-roll" min="-180" max="180" step="1" value="0">
                <span class="setting-value" id="orbit-roll-value">0Â°</span>
            </div>

            <div class="setting-item">
                <button id="reset-orbit" style="width: 100%; padding: 8px; background: #FF9800; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                    ğŸ”„ ê¶¤ë„ ì´ˆê¸°í™”
                </button>
            </div>
        </div>

        <div class="settings-section">
            <h3 data-i18n="graphics">Graphics</h3>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-shadows" checked>
                    ê·¸ë¦¼ì
                </label>
            </div>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-fog" checked>
                    ì•ˆê°œ
                </label>
            </div>

            <div class="setting-item">
                <label>ë Œë” í•´ìƒë„</label>
                <input type="range" id="pixel-ratio" min="0.5" max="2" step="0.25" value="1">
                <span class="setting-value" id="pixel-ratio-value">1.0x</span>
            </div>
        </div>

        <div class="settings-section">
            <h3>Environment & Lighting</h3>

            <div class="setting-item">
                <label>Environment</label>
                <select id="environment-select" style="width: 100%; padding: 5px; background: #333; color: white; border: 1px solid #555;">
                    <option value="None">None</option>
                    <option value="Studio" selected>Studio (Default)</option>
                    <option value="Natural">Natural</option>
                    <option value="Venice">Venice Sunset</option>
                    <option value="Custom">Custom HDR</option>
                </select>
            </div>

            <div class="setting-item">
                <label>Load HDR File (.hdr, .exr)</label>
                <input type="file" id="hdr-input" accept=".hdr,.exr" style="width: 100%; padding: 5px; background: #333; color: white; border: 1px solid #555;">
                <p style="font-size: 11px; color: #888; margin-top: 5px;">Upload custom HDR environment map</p>
            </div>

            <div class="setting-item">
                <label>Tone Mapping</label>
                <select id="tone-mapping" style="width: 100%; padding: 5px; background: #333; color: white; border: 1px solid #555;">
                    <option value="Linear">Linear</option>
                    <option value="ACES" selected>ACES Filmic</option>
                    <option value="Cineon">Cineon</option>
                    <option value="Reinhard">Reinhard</option>
                </select>
            </div>

            <div class="setting-item">
                <label>Exposure</label>
                <input type="range" id="exposure" min="0.1" max="3" step="0.1" value="1.0">
                <span class="setting-value" id="exposure-value">1.0</span>
            </div>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="punctual-lights" checked>
                    Punctual Lights
                </label>
            </div>

            <div class="setting-item">
                <label>Ambient Intensity</label>
                <input type="range" id="ambient-intensity" min="0" max="2" step="0.1" value="0.5">
                <span class="setting-value" id="ambient-intensity-value">0.5</span>
            </div>

            <div class="setting-item">
                <label>Ambient Color</label>
                <input type="color" id="ambient-color" value="#ffffff" style="width: 100%; height: 30px; background: #333; border: 1px solid #555;">
            </div>

            <div class="setting-item">
                <label>Directional Intensity</label>
                <input type="range" id="direct-intensity" min="0" max="5" step="0.1" value="2.5">
                <span class="setting-value" id="direct-intensity-value">2.5</span>
            </div>

            <div class="setting-item">
                <label>Directional Color</label>
                <input type="color" id="direct-color" value="#ffffff" style="width: 100%; height: 30px; background: #333; border: 1px solid #555;">
            </div>

            <div class="setting-item">
                <label>Environment Intensity</label>
                <input type="range" id="env-intensity" min="0" max="2" step="0.1" value="1.0">
                <span class="setting-value" id="env-intensity-value">1.0</span>
            </div>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="show-background" checked>
                    Show Environment Background
                </label>
            </div>

            <div class="setting-item">
                <label>Background Blur</label>
                <input type="range" id="background-blur" min="0" max="1" step="0.1" value="0.0">
                <span class="setting-value" id="background-blur-value">0.0</span>
            </div>
        </div>

        <div class="settings-section">
            <h3>ì„¤ì • ê´€ë¦¬</h3>

            <div class="setting-item">
                <button id="save-settings" style="width: 100%; padding: 10px; background: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; margin-bottom: 10px;">
                    ğŸ’¾ í˜„ì¬ ì„¤ì • ì €ì¥
                </button>
            </div>

            <div class="setting-item">
                <button id="load-settings" style="width: 100%; padding: 10px; background: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; margin-bottom: 10px;">
                    ğŸ“‚ ì €ì¥ëœ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
                </button>
            </div>

            <div class="setting-item">
                <button id="reset-settings" style="width: 100%; padding: 10px; background: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    ğŸ”„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
                </button>
            </div>

            <div class="setting-item">
                <button id="export-settings" style="width: 100%; padding: 10px; background: #FF9800; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px;">
                    ğŸ“¥ ì„¤ì • íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°
                </button>
            </div>

            <div class="setting-item">
                <label>ì„¤ì • íŒŒì¼ ê°€ì ¸ì˜¤ê¸°</label>
                <input type="file" id="import-settings" accept=".json" style="width: 100%; padding: 5px; background: #333; color: white; border: 1px solid #555;">
            </div>
        </div>

        <div class="settings-section">
            <h3>íŠ¹ìˆ˜ íš¨ê³¼ (Igloo Inc. Style)</h3>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-particles" checked>
                    íŒŒí‹°í´ ì‹œìŠ¤í…œ
                </label>
            </div>

            <div class="setting-item">
                <label>íŒŒí‹°í´ ëª¨ì–‘</label>
                <select id="particle-shape" style="width: 100%; padding: 5px; background: #333; color: white; border: 1px solid #555;">
                    <option value="sphere">êµ¬ì²´ (Sphere)</option>
                    <option value="cube">íë¸Œ (Cube)</option>
                    <option value="torus">í† ëŸ¬ìŠ¤ (Torus)</option>
                    <option value="random">ëœë¤ (Random)</option>
                </select>
            </div>

            <div class="setting-item">
                <label>íŒŒí‹°í´ í¬ê¸°</label>
                <input type="range" id="particle-size" min="0.1" max="2.0" step="0.1" value="0.5">
                <span class="setting-value" id="particle-size-value">0.5</span>
            </div>

            <div class="setting-item">
                <label>íŒŒí‹°í´ ì†ë„</label>
                <input type="range" id="particle-speed" min="0" max="2" step="0.1" value="0.5">
                <span class="setting-value" id="particle-speed-value">0.5</span>
            </div>

            <div class="setting-item">
                <label>
                    <input type="checkbox" id="enable-glitch">
                    ê¸€ë¦¬ì¹˜ íš¨ê³¼
                </label>
            </div>

            <div class="setting-item">
                <button id="trigger-glitch" style="width: 100%; padding: 10px; background: #E91E63; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    ê¸€ë¦¬ì¹˜ íŠ¸ë¦¬ê±°
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
